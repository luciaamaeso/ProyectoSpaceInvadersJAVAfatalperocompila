package pantallas;

import java.awt.*;
import javax.swing.*;
import javax.swing.border.EmptyBorder;

public class PantallaJuego extends JFrame {

    // ====== Parámetros de la matriz ======
    private static final int ANCHO_CELDAS = 100;  // columnas
    private static final int ALTO_CELDAS  = 60;   // filas
    private static final int TAMANO_CELDA = 8;    // tamaño visual de cada celda

    private JPanel panelContenido;
    private JPanel panelMatriz;

    // Matriz de JLabels para representar cada celda/píxel lógico
    private JLabel[][] matrizCeldas = new JLabel[ALTO_CELDAS][ANCHO_CELDAS];

    public static void main(String[] args) {
        EventQueue.invokeLater(() -> {
            try {
                PantallaJuego frame = new PantallaJuego();
                frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
    }

    public PantallaJuego() {
        setTitle("Space Invaders - Matriz 100x60");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setResizable(false);

        panelContenido = new JPanel(new BorderLayout());
        panelContenido.setBorder(new EmptyBorder(5, 5, 5, 5));
        setContentPane(panelContenido);

        panelContenido.add(getPanelMatriz(), BorderLayout.CENTER);

        pack();                 // ajusta el tamaño según las celdas
        setLocationRelativeTo(null);  // centra la ventana
    }

    private JPanel getPanelMatriz() {
        if (panelMatriz == null) {
            panelMatriz = new JPanel(new GridLayout(ALTO_CELDAS, ANCHO_CELDAS, 0, 0));

            // Crear matriz de JLabels
            for (int fila = 0; fila < ALTO_CELDAS; fila++) {
                for (int col = 0; col < ANCHO_CELDAS; col++) {

                    JLabel celda = new JLabel();
                    celda.setOpaque(true);
                    celda.setBackground(Color.BLACK); // espacio vacío
                    celda.setPreferredSize(new Dimension(TAMANO_CELDA, TAMANO_CELDA));

                    matrizCeldas[fila][col] = celda;
                    panelMatriz.add(celda);
                }
            }

            // Ajuste del tamaño total del panel
            panelMatriz.setPreferredSize(
                new Dimension(ANCHO_CELDAS * TAMANO_CELDA, ALTO_CELDAS * TAMANO_CELDA)
            );
        }
        return panelMatriz;
    }

    // ===== Métodos útiles (opcionales) =====

    /** Pinta una celda concreta en la matriz */
    public void pintarCelda(int x, int y, Color color) {
        if (x >= 0 && x < ANCHO_CELDAS && y >= 0 && y < ALTO_CELDAS) {
            matrizCeldas[y][x].setBackground(color);
        }
    }

    /** Devuelve la celda JLabel por si la necesitas */
    public JLabel obtenerCelda(int x, int y) {
        if (x >= 0 && x < ANCHO_CELDAS && y >= 0 && y < ALTO_CELDAS) {
            return matrizCeldas[y][x];
        }
        return null;
    }
}
