package pantallas;

import java.awt.BorderLayout;
import java.awt.Color;
import java.awt.Dimension;
import java.awt.EventQueue;
import java.awt.GridLayout;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;

public class pantallaJuego extends JFrame {

    private int anchopix = 100;   
    private int altopix  = 60;    
    private int tamanopix = 8;    

    private JPanel contentPane;
    private JPanel panelMatriz;
    private JLabel[][] matrizPixeles = new JLabel[60][100];

    /**
	 * Launch the application.
	 */ 
    
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    pantallaJuego ventana = new pantallaJuego();
                    ventana.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    public pantallaJuego() {
        setTitle("Space Invaders");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setResizable(false);
        contentPane = new JPanel(new BorderLayout());
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        setContentPane(contentPane);
        contentPane.add(crearPanelMatriz(), BorderLayout.CENTER);
        setLocationRelativeTo(null);
    }

    private JPanel crearPanelMatriz() {
        if (panelMatriz == null) {
            panelMatriz = new JPanel(new GridLayout(altopix, anchopix, 0, 0));
            for (int fila = 0; fila < altopix; fila++) {
            	for (int col = 0; col < anchopix; col++) {
                JLabel celda = new JLabel();
                celda.setOpaque(true);
                celda.setBackground(Color.BLACK);
                celda.setPreferredSize(new Dimension(tamanopix, tamanopix));
                matrizPixeles[fila][col] = celda;
                panelMatriz.add(celda);
            }
        }
            panelMatriz.setPreferredSize(
                new Dimension(anchopix * tamanopix, altopix * tamanopix)
            );
        }
        return panelMatriz;
    }

    // Colorea un pixel en la matriz 
    public void colorearPixel(int x, int y, Color color) {
        if (x >= 0 && x < anchopix && y >= 0 && y < altopix) {
            matrizPixeles[y][x].setBackground(color);
        }
    }

    // Obtiene un pixel 
    public JLabel obtenerPixel(int x, int y) {
        if (x >= 0 && x < anchopix && y >= 0 && y < altopix) {
            return matrizPixeles[y][x];
        }
        return null;
    }
}